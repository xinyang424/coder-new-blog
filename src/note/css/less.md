---
title: Less
date: 2023-03-01
category:
  - css
tag:
  - cssé¢„å¤„ç†è¯­è¨€
---
:::info
ğŸ’¡åŸºäºvscodeï¼Œéœ€è¦å®‰è£…æ’ä»¶Esay Lessã€‚

âœ¨æ–°å»ºä¸€ä¸ª.lessæ–‡ä»¶çš„åç¼€åï¼Œä¿å­˜å°±ä¼šè‡ªåŠ¨ç”Ÿæˆåç¼€åä¸º.cssçš„ç›¸åŒæ–‡ä»¶åã€‚

ğŸ‘ï¸â€ğŸ—¨ï¸Lesså®˜ç½‘ï¼š[https://less.bootcss.com/](https://less.bootcss.com/)
:::

# å˜é‡ï¼ˆVariablesï¼‰

## å®šä¹‰å˜é‡

```css
@width:10px;
@height:@width+10px;
```

## ä½¿ç”¨å˜é‡

```css
.header{
    width: @width;
    height: @height;
}
```

# æ··åˆ(Mixins)

æ··åˆæ˜¯ä¸€ç§å°†ä¸€ç»„å±æ€§ä»ä¸€ä¸ªè§„åˆ™é›†åŒ…å«(æˆ–æ··å…¥)åˆ°å¦ä¸€ä¸ªè§„åˆ™é›†çš„æ–¹æ³•

## å®šä¹‰å’Œä½¿ç”¨æ··åˆå™¨

```css
//psï¼šç›¸æ¯”sasså®šä¹‰æ··åˆå™¨çš„æ–¹æ³•ï¼Œè¿™æ ·å®šä¹‰çœ‹èµ·æ¥æ„Ÿè§‰åƒç±»ä¸€æ ·
.bordered {
    border-top: dotted 1px black;
    border-bottom: solid 2px black;
}
```

### ä½¿ç”¨æ··åˆå™¨

```css
.header p {
    color: #111;
    .bordered();//ä½¿ç”¨æ··åˆå™¨ï¼Œå°†å‰é¢å®šä¹‰è¿‡çš„æ ·å¼æ··åˆåˆ°æ­¤æ ·å¼ä¸­å»
}
```

## å®šä¹‰å¯ä¼ å‚çš„æ··åˆå™¨

```css
.border(@width,@style,@color){
  border: @width @style @color;//ps:æ³¨æ„æ˜¯æœ‰ç©ºæ ¼çš„
}
```

### ä½¿ç”¨å¯ä¼ å‚çš„æ··åˆå™¨

```css
section{
  .border(5px,solid,red);//ps:å¿…é¡»è¦ç”¨é€—å·éš”å¼€
}
```

# åµŒå¥—ï¼ˆNestingï¼‰

lessæä¾›äº†ä½¿ç”¨åµŒå¥—ä»£æ›¿å±‚å æˆ–ä¸å±‚å ç»“åˆä½¿ç”¨çš„èƒ½åŠ›

## ä½¿ç”¨åµŒå¥—

```css
.header{
    p{
        color: red;
    }
}
```

## åµŒå¥—å’Œä¼ªç±»é€‰æ‹©å™¨

```css
.header{
   //è¿™é‡Œçš„&æŒ‡å‘çš„å°±æ˜¯header
    &::after{
        content: '';
        display: block;
        clear: both;
    }
}
```

## @è§„åˆ™åµŒå¥—å’Œå†’æ³¡

@ è§„åˆ™ï¼ˆä¾‹å¦‚ @media æˆ– @supportsï¼‰å¯ä»¥ä¸é€‰æ‹©å™¨ä»¥ç›¸åŒçš„æ–¹å¼è¿›è¡ŒåµŒå¥—ã€‚@ è§„åˆ™ä¼šè¢«æ”¾åœ¨å‰é¢ï¼ŒåŒä¸€è§„åˆ™é›†ä¸­çš„å…¶å®ƒå…ƒç´ çš„ç›¸å¯¹é¡ºåºä¿æŒä¸å˜ã€‚è¿™å«åšå†’æ³¡ï¼ˆbubblingï¼‰ã€‚

```css
.component {
  width: 300px;
  @media (min-width: 768px) {
    width: 600px;
    @media  (min-resolution: 192dpi) {
      background-image: url(/img/retina2x.png);
    }
  }
  @media (min-width: 1280px) {
    width: 800px;
  }
}
```

ç¼–è¯‘ä¸º:

```css
.component {
  width: 300px;
}
@media (min-width: 768px) {
  .component {
    width: 600px;
  }
}
@media (min-width: 768px) and (min-resolution: 192dpi) {
  .component {
    background-image: url(/img/retina2x.png);
  }
}
@media (min-width: 1280px) {
  .component {
    width: 800px;
  }
}
```

# è¿ç®—(Operations)

ç®—æœ¯è¿ç®—ç¬¦ ï¼š+ã€-ã€*ã€/ å¯ä»¥å¯¹ä»»ä½•æ•°å­—ã€é¢œè‰²æˆ–å˜é‡è¿›è¡Œè¿ç®—ã€‚
å¦‚æœå¯èƒ½çš„è¯ï¼Œç®—æœ¯è¿ç®—ç¬¦åœ¨åŠ ã€å‡æˆ–æ¯”è¾ƒä¹‹å‰ä¼šè¿›è¡Œå•ä½æ¢ç®—ã€‚
è®¡ç®—çš„ç»“æœä»¥æœ€å·¦ä¾§æ“ä½œæ•°çš„å•ä½ç±»å‹ä¸ºå‡†ã€‚
å¦‚æœå•ä½æ¢ç®—æ— æ•ˆæˆ–å¤±å»æ„ä¹‰ï¼Œåˆ™å¿½ç•¥å•ä½ã€‚æ— æ•ˆçš„å•ä½æ¢ç®—ä¾‹å¦‚ï¼špx åˆ° cm æˆ– rad åˆ° % çš„è½¬æ¢ã€‚

## åŠ å‡ä¹‹å‰ä¼šå¯¹å•ä½è¿›è¡Œæ¢ç®—

1. å¦‚æœéƒ½æœ‰å•ä½ä¼šä»¥æœ€å·¦ä¾§çš„å•ä½è¿›è¡Œæ¢ç®—
2. å¦‚æœæ²¡æœ‰å•ä½ï¼Œä¼šä»¥å·¦ä¾§çš„å•ä½è¿›è¡Œæ¢ç®—

```css
// ä¸åŒçš„å•ä½ï¼Œè®¡ç®—ç»“æœæ˜¯ä»¥æœ€å·¦ä¾§çš„å•ä½ä¸ºå‡†ã€‚
@conversion-1: 5cm + 10mm; // ç»“æœæ˜¯ 6cm
@incompatible-units: 2 + 5px - 3cm; // ç»“æœæ˜¯ 4px

//å¦‚æœæ²¡æœ‰å•ä½ï¼Œä¼šä»¥æœ€å·¦ä¾§çš„å•ä½ä½œä¸ºåŸºå‡†å•ä½
@conversion-2: 2 - 3cm - 5mm; // ç»“æœæ˜¯ -1.5cm
```

## ä¹˜æ³•å’Œé™¤æ³•å•ä½ä¸åšè½¬æ¢

- å¦‚æœé‡åˆ°ä¸åŒå•ä½ï¼Œä¼šä»¥å·¦ä¾§çš„å•ä½è¿›è¡Œæ¢ç®—ã€‚

```css
@base: 2cm * 3mm; // ç»“æœæ˜¯ 6cm
```

## å¯¹é¢œè‰²è¿›è¡Œç®—æ•°è¿ç®—

```css
@color: (#224488 / 2); // ç»“æœæ˜¯ #112244
background-color: #112244 + #111; // ç»“æœæ˜¯ #223355
```

## è‰²å½©å‡½æ•°

## calc()ç‰¹ä¾‹

ä¸ºäº†ä¸ CSS ä¿æŒå…¼å®¹ï¼Œcalc() å¹¶ä¸å¯¹æ•°å­¦è¡¨è¾¾å¼è¿›è¡Œè®¡ç®—ï¼Œä½†æ˜¯åœ¨åµŒå¥—å‡½æ•°ä¸­ä¼šè®¡ç®—å˜é‡å’Œæ•°å­¦å…¬å¼çš„å€¼ã€‚

```css
@var: 50vh/2;
width: calc(50% + (@var - 20px));  // ç»“æœæ˜¯ calc(50% + (25vh - 20px))
```

# è½¬ä¹‰ï¼ˆEscapingï¼‰

### è½¬ä¹‰+calcçš„ä½¿ç”¨

```css
.el-main{
  width:calc(~"100% - 200px");
}
```

# å‡½æ•°ï¼ˆFunctionsï¼‰

# å‘½åç©ºé—´å’Œè®¿é—®ç¬¦

## å®šä¹‰å‘½åç©ºé—´

```css
#bundle() {
  .button {
    display: block;
    border: 1px solid black;
    background-color: grey;
    &:hover {
      background-color: white;
    }
  }
  .tab { ... }
  .citation { ... }
}
```

## è®¿é—®å¸¦æœ‰å‘½åç©ºé—´çš„æ ·å¼

ç°åœ¨ï¼Œæˆ‘ä»¬æŠŠ.button ç±»æ··åˆåˆ° #header a ä¸­å»ï¼š

```css
#header a {
  color: orange;
  #bundle.button();  // è¿˜å¯ä»¥ä¹¦å†™ä¸º #bundle > .button å½¢å¼
}
```

## ä¸æ··åˆå™¨çš„åŒºåˆ«

- åœ¨å®šä¹‰ç±»åæˆ–idååé¢åŠ ä¸€ä¸ª()
- æœ‰äº†å‘½åç©ºé—´å¯ä»¥æŒ‡å®šå°†æŸä¸ªæ ·å¼æ··åˆè¿›å»ï¼Œè€Œæ··åˆå™¨å°±æ˜¯ä¼šæŠŠè¯¥ç±»åæˆ–idåä¸‹çš„æ ·å¼å…¨éƒ¨æ··åˆè¿›å»ã€‚

# æ˜ å°„ï¼ˆMapsï¼‰

```css
#colors() {
  primary: blue;
  secondary: green;
}

.button {
  color: #colors[primary];
  border: 1px solid #colors[secondary];
}
```

è¾“å‡ºç»“æœï¼š

```css
.button {
  color: blue;
  border: 1px solid green;
}
```

#

ä½œç”¨åŸŸï¼ˆScopeï¼‰
é€šä¿—ç‚¹è®²å°±æ˜¯èŠ±æ‹¬å·å†…çš„æ ·å¼ç­‰çº§å¤§äºåœ¨å¤–é¢å®šä¹‰çš„æ ·å¼ç­‰çº§ï¼š

```css
//èŠ±æ‹¬å·å†…çš„æ ·å¼ç­‰çº§å¤§äºèŠ±æ‹¬å·å¤–é¢å®šä¹‰çš„æ ·å¼ç­‰çº§
@var: red;

#page {
  @var: white;
  #header {
    color: @var; // white
  }
}

#page {
  #header {
    color: @var; // white
  }
  @var: white;
}
```

# æ³¨é‡Šï¼ˆCommentsï¼‰

å—æ³¨é‡Šå’Œè¡Œæ³¨é‡Šéƒ½å¯ä»¥ä½¿ç”¨ï¼š

```css
/* ä¸€ä¸ªå—æ³¨é‡Š
 * style comment! */
@var: red;

// è¿™ä¸€è¡Œè¢«æ³¨é‡Šæ‰äº†ï¼
@var: white;
```

æ³¨æ„ï¼š
å—çº§æ³¨é‡Šä¼šè¾“å‡ºåœ¨cssæ–‡ä»¶ä¸­ï¼Œè€Œè¡Œæ³¨é‡Šä¸ä¼šè¾“å‡ºåœ¨cssæ–‡ä»¶ä¸­

# å¯¼å…¥ï¼ˆImportingï¼‰

```css
@import "library"; // å¦‚æœå¯¼å…¥çš„æ–‡ä»¶æ˜¯ .less åç¼€åå¯ä»¥çœç•¥
@import "typo.css";//ä½†æ˜¯å¯¼å…¥çš„æ˜¯csså°±ä¸å¯ä»¥çœç•¥
```
